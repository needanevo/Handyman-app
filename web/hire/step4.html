<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step 4: Budget & Timing | The Real Johnson - Set Your Budget</title>
    <meta name="description" content="Set your budget and timeline. Get matched with professionals who meet your requirements.">

    <!-- OpenGraph Meta Tags -->
    <meta property="og:title" content="Hire a Pro - Step 4: Budget & Timing | The Real Johnson">
    <meta property="og:description" content="Set your budget and schedule to get accurate proposals">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://therealjohnson.com/hire/step4">
    <meta property="og:image" content="https://therealjohnson.com/og-image.jpg">

    <!-- JSON-LD Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "The Real Johnson",
        "description": "Platform connecting homeowners with skilled handymen and contractors",
        "url": "https://therealjohnson.com",
        "priceRange": "$$",
        "areaServed": "United States",
        "serviceType": ["Home Repair", "Handyman Services", "Contractor Services"]
    }
    </script>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../assets/favicon.png">
    <link rel="icon" type="image/svg+xml" href="../assets/logo-color.svg">

    <link rel="stylesheet" href="../global.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <a href="#main-content" class="skip-to-content" aria-label="Skip to main content">Skip to main content</a>

    <div class="hire-container">
        <header class="hire-header" role="banner">
            <a href="../" class="logo" aria-label="The Real Johnson home page">
                <img src="../assets/logo-color.svg" alt="The Real Johnson" class="logo-img">
            </a>
            <a href="../" class="back-link" aria-label="Go back to home page">← Back to Home</a>
        </header>

        <div class="progress-bar">
            <div class="progress-step completed">1</div>
            <div class="progress-line completed"></div>
            <div class="progress-step completed">2</div>
            <div class="progress-line completed"></div>
            <div class="progress-step completed">3</div>
            <div class="progress-line completed"></div>
            <div class="progress-step active">4</div>
        </div>

        <div class="step-content">
            <h2 class="step-title">Step 4 of 4: Budget & Timing</h2>
            <p class="step-description">Help workers understand your budget and schedule expectations.</p>

            <form id="step4-form" class="hire-form">
                <div class="form-group">
                    <label for="budgetMax">Maximum Budget (Optional)</label>
                    <p class="form-hint">Provide your maximum budget to help workers tailor their proposals.</p>
                    <input type="number" id="budgetMax" name="budgetMax" class="form-control" placeholder="e.g., 500" min="0">
                </div>

                <div class="form-group">
                    <label for="urgency">How soon do you need this done? *</label>
                    <select id="urgency" name="urgency" required class="form-control">
                        <option value="">Select urgency...</option>
                        <option value="Low">Flexible - Whenever works</option>
                        <option value="Medium">Within 1-2 weeks</option>
                        <option value="High">ASAP - Within a few days</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="timing">Preferred Timing Details</label>
                    <textarea id="timing" name="timing" class="form-control" rows="3" placeholder="Any specific days, times, or scheduling preferences?"></textarea>
                </div>

                <div class="form-group">
                    <label for="contractor-preference">Worker Preference</label>
                    <select id="contractor-preference" name="contractorPreference" class="form-control">
                        <option value="no_preference">No preference</option>
                        <option value="handyman">Handyman (usually lower cost, no license required)</option>
                        <option value="licensed">Licensed Contractor (higher cost, fully licensed & insured)</option>
                    </select>
                    <small class="form-hint">We'll show your job to the type of worker you prefer.</small>
                </div>

                <div class="form-actions">
                    <a href="step3.html" class="btn btn-secondary">← Back</a>
                    <button type="submit" class="btn btn-primary">Review & Confirm →</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Load existing draft if any
        const draft = loadDraft();
        if (draft.budgetMax) document.getElementById('budgetMax').value = draft.budgetMax;
        if (draft.urgency) document.getElementById('urgency').value = draft.urgency;
        if (draft.timing) document.getElementById('timing').value = draft.timing;
        if (draft.contractorPreference) document.getElementById('contractor-preference').value = draft.contractorPreference;

        // Handle form submission
        document.getElementById('step4-form').addEventListener('submit', function(e) {
            e.preventDefault();

            const formData = {
                budgetMax: document.getElementById('budgetMax').value,
                urgency: document.getElementById('urgency').value,
                timing: document.getElementById('timing').value,
                contractorPreference: document.getElementById('contractor-preference').value
            };

            saveDraft(formData);
            window.location.href = 'confirmation.html';
        });
    </script>
</body>
</html>
